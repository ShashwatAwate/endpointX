{
  "language": "javascript",
  "test_framework": "jest",
  "http_client": "supertest",
  "files": [
    {
      "path": "items.test.js",
      "content": "describe('Product Inventory Management API', () => {\n  describe('POST /products', () => {\n    test('Returns 201 when a product is successfully created with a unique SKU and a name.', async () => {\n      const product = {\n        sku: 'PROD_SKU_1001',\n        name: 'Sample Product One',\n        description: 'Description for product 1'\n      };\n      const res = await request(app)\n        .post('/products')\n        .send(product);\n      expect(res.statusCode).toEqual(201);\n      expect(res.text).toEqual('Product created successfully.');\n    });\n\n    test('Returns 400 when \\'sku\\' is missing from the request body.', async () => {\n      const product = {\n        name: 'Sample Product Two',\n        description: 'Description for product 2'\n      };\n      const res = await request(app)\n        .post('/products')\n        .send(product);\n      expect(res.statusCode).toEqual(400);\n      expect(res.text).toEqual('Invalid request body or missing required fields.');\n    });\n\n    test('Returns 400 when \\'name\\' is missing from the request body.', async () => {\n      const product = {\n        sku: 'PROD_SKU_1003',\n        description: 'Description for product 3'\n      };\n      const res = await request(app)\n        .post('/products')\n        .send(product);\n      expect(res.statusCode).toEqual(400);\n      expect(res.text).toEqual('Invalid request body or missing required fields.');\n    });\n\n    test('Returns 400 when the request body is malformed or invalid (empty object).', async () => {\n      const res = await request(app)\n        .post('/products')\n        .send({});\n      expect(res.statusCode).toEqual(400);\n      expect(res.text).toEqual('Invalid request body or missing required fields.');\n    });\n\n    test('Returns 400 when the request body is malformed or invalid (wrong type for sku).', async () => {\n      const product = {\n        sku: 12345, \n        name: 'Product Invalid SKU Type'\n      };\n      const res = await request(app)\n        .post('/products')\n        .send(product);\n      expect(res.statusCode).toEqual(400);\n      expect(res.text).toEqual('Invalid request body or missing required fields.');\n    });\n\n    test('Returns 400 when the request body is malformed or invalid (wrong type for name).', async () => {\n      const product = {\n        sku: 'PROD_SKU_INVALID_NAME_TYPE',\n        name: true \n      };\n      const res = await request(app)\n        .post('/products')\n        .send(product);\n      expect(res.statusCode).toEqual(400);\n      expect(res.text).toEqual('Invalid request body or missing required fields.');\n    });\n\n    test('Returns 409 when a product with the provided SKU already exists.', async () => {\n      const existingSku = 'PROD_SKU_1004_EXISTING';\n      await request(app)\n        .post('/products')\n        .send({ sku: existingSku, name: 'Existing Product' })\n        .expect(201);\n\n      const res = await request(app)\n        .post('/products')\n        .send({ sku: existingSku, name: 'Duplicate Product Attempt' });\n      expect(res.statusCode).toEqual(409);\n      expect(res.text).toEqual('Product with this SKU already exists.');\n    });\n  });\n\n  describe('PUT /products/{product_sku}', () => {\n    test('Returns 200 when an existing product is successfully updated with a valid name.', async () => {\n      const skuToUpdate = 'PROD_SKU_UPDATE_001';\n      await request(app)\n        .post('/products')\n        .send({ sku: skuToUpdate, name: 'Initial Product Name' })\n        .expect(201);\n\n      const updatedData = {\n        name: 'Updated Product Name',\n        description: 'New Description'\n      };\n      const res = await request(app)\n        .put(`/products/${skuToUpdate}`)\n        .send(updatedData);\n      expect(res.statusCode).toEqual(200);\n      expect(res.text).toEqual('Product updated successfully.');\n    });\n\n    test('Returns 400 when \\'name\\' is missing from the request body.', async () => {\n      const skuToUpdate = 'PROD_SKU_UPDATE_002_MISSING_NAME';\n      await request(app)\n        .post('/products')\n        .send({ sku: skuToUpdate, name: 'Initial Product' })\n        .expect(201);\n\n      const invalidUpdate = {\n        description: 'Only description, no name'\n      };\n      const res = await request(app)\n        .put(`/products/${skuToUpdate}`)\n        .send(invalidUpdate);\n      expect(res.statusCode).toEqual(400);\n      expect(res.text).toEqual('Invalid request body or missing required fields.');\n    });\n\n    test('Returns 400 when the request body is malformed or invalid (empty object).', async () => {\n      const skuToUpdate = 'PROD_SKU_UPDATE_003_EMPTY_BODY';\n      await request(app)\n        .post('/products')\n        .send({ sku: skuToUpdate, name: 'Initial Product' })\n        .expect(201);\n\n      const res = await request(app)\n        .put(`/products/${skuToUpdate}`)\n        .send({});\n      expect(res.statusCode).toEqual(400);\n      expect(res.text).toEqual('Invalid request body or missing required fields.');\n    });\n\n    test('Returns 400 when the request body is malformed or invalid (wrong type for name).', async () => {\n      const skuToUpdate = 'PROD_SKU_UPDATE_004_INVALID_NAME_TYPE';\n      await request(app)\n        .post('/products')\n        .send({ sku: skuToUpdate, name: 'Initial Product' })\n        .expect(201);\n\n      const invalidUpdate = {\n        name: 123456 \n      };\n      const res = await request(app)\n        .put(`/products/${skuToUpdate}`)\n        .send(invalidUpdate);\n      expect(res.statusCode).toEqual(400);\n      expect(res.text).toEqual('Invalid request body or missing required fields.');\n    });\n\n    test('Returns 404 when the product identified by \\'product_sku\\' does not exist.', async () => {\n      const nonExistentSku = 'PROD_SKU_NON_EXISTENT';\n      const updateBody = {\n        name: 'Attempt to update non-existent product'\n      };\n      const res = await request(app)\n        .put(`/products/${nonExistentSku}`)\n        .send(updateBody);\n      expect(res.statusCode).toEqual(404);\n      expect(res.text).toEqual('Product not found for the given SKU.');\n    });\n  });\n});"
    }
  ]
}