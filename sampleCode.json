{
  "language": "javascript",
  "framework": "express",
  "files": [
    {
      "path": "app.js",
      "content": "const express = require('express');\nconst app = express();\napp.use(express.json());\n\n// In-memory data store for items\n// Following invariants:\n// - Each item must have a unique string 'id'.\n// - Item names must be non-empty and not exceed 100 characters.\nconst itemsData = Array.from({ length: 100 }, (_, i) => ({\n    id: `item-${i + 1}`,\n    name: `Sample Item ${i + 1}`\n}));\n\n/**\n * GET /items\n * Retrieves a paginated list of items.\n * Query Parameters:\n *   - page (integer, optional, default: 1): The requested page number. Must be positive.\n *   - pageSize (integer, optional, default: 10): The number of items per page. Must be between 1 and 50.\n *\n * Responses:\n *   - 200 OK: Successful retrieval. Body contains 'items', 'totalItems', 'currentPage', 'totalPages'.\n *   - 400 Bad Request: Invalid pagination parameters.\n */\napp.get('/items', (req, res) => {\n    // Parse and validate 'page' parameter\n    let page = 1; // Default value\n    if (req.query.page !== undefined) {\n        const requestedPage = parseInt(req.query.page, 10);\n        if (isNaN(requestedPage) || !Number.isInteger(requestedPage) || requestedPage < 1) {\n            return res.status(400).json({ message: 'Invalid page parameter. Must be a positive integer.' });\n        }\n        page = requestedPage;\n    }\n\n    // Parse and validate 'pageSize' parameter\n    let pageSize = 10; // Default value\n    if (req.query.pageSize !== undefined) {\n        const requestedPageSize = parseInt(req.query.pageSize, 10);\n        // Invariant: pageSize must be within 1 to 50, inclusive.\n        if (isNaN(requestedPageSize) || !Number.isInteger(requestedPageSize) || requestedPageSize < 1 || requestedPageSize > 50) {\n            return res.status(400).json({ message: 'Invalid pageSize parameter. Must be an integer between 1 and 50.' });\n        }\n        pageSize = requestedPageSize;\n    }\n\n    const totalItems = itemsData.length;\n    const totalPages = Math.ceil(totalItems / pageSize);\n\n    // Calculate the start and end index for the current page\n    const startIndex = (page - 1) * pageSize;\n    const endIndex = Math.min(startIndex + pageSize, totalItems);\n\n    // Slice the itemsData to get the items for the current page\n    const paginatedItems = itemsData.slice(startIndex, endIndex);\n\n    // Return the paginated response\n    res.status(200).json({\n        items: paginatedItems,\n        totalItems: totalItems,\n        currentPage: page,\n        totalPages: totalPages\n    });\n});\n\nmodule.exports = app;\n"
    }
  ]
}